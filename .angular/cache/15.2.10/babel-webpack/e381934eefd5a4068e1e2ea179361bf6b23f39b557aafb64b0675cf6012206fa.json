{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/home.service\";\nimport * as i2 from \"@agm/core\";\nimport * as i3 from \"../services/city-data.service\";\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(home, mapsAPILoader, cityDataService, cdr) {\n      this.home = home;\n      this.mapsAPILoader = mapsAPILoader;\n      this.cityDataService = cityDataService;\n      this.cdr = cdr;\n      this.title = 'My first AGM project';\n      this.lat = 47.36991229592861;\n      this.lng = 8.522110574370004;\n    }\n    ngOnInit() {\n      this.getData();\n      this.postData();\n      this.loadGoogleMapsScript();\n      //this.fetchCityData();\n    }\n\n    getData() {\n      this.home.getData().subscribe(result => {\n        this.data = result;\n        console.log(this.data);\n      });\n    }\n    // Example POST operation\n    postData() {\n      const newData = {\n        Name: 'Davor'\n      };\n      this.home.postData(newData).subscribe(() => {\n        console.log('Data inserted successfully');\n        // Optionally, fetch updated data after insertion\n        this.getData();\n      }, error => {\n        console.error('Error inserting data:', error);\n      });\n    }\n    loadGoogleMapsScript() {\n      this.mapsAPILoader.load().then(() => {\n        this.initMap();\n      });\n    }\n    initMap() {\n      const directionsService = new google.maps.DirectionsService();\n      const directionsRenderer = new google.maps.DirectionsRenderer();\n      // Safely access the map element or provide a default value (e.g., document.body)\n      const mapElement = document.getElementById('map') || document.body;\n      const map = new google.maps.Map(mapElement, {\n        center: {\n          lat: this.lat,\n          lng: this.lng\n        },\n        zoom: 8\n      });\n      directionsRenderer.setMap(map);\n      // Example route from Sydney, Australia to Melbourne, Australia\n      // const request: google.maps.DirectionsRequest = {\n      //   origin: new google.maps.LatLng(this.lat, this.lng),\n      //   destination: new google.maps.LatLng(47.44159273798436, 8.625458252230352),\n      //   travelMode: 'DRIVING' as google.maps.TravelMode,\n      // };\n      // directionsService.route(request, (result: any, status: any) => {\n      //     if (status === 'OK') {\n      //       directionsRenderer.setDirections(result);\n      //       console.log(result);\n      //     } else {\n      //       console.error('Directions request failed with status:', status);\n      //     }\n      //   });\n    }\n    static #_ = this.ɵfac = function HomeComponent_Factory(t) {\n      return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.HomeService), i0.ɵɵdirectiveInject(i2.MapsAPILoader), i0.ɵɵdirectiveInject(i3.CityDataService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: HomeComponent,\n      selectors: [[\"home\"]],\n      decls: 8,\n      vars: 11,\n      consts: [[\"id\", \"map\"], [3, \"latitude\", \"longitude\"], [3, \"disableAutoPan\"], [3, \"latitude\", \"longitude\", \"label\"]],\n      template: function HomeComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h1\");\n          i0.ɵɵtext(1);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"div\", 0)(3, \"agm-map\", 1)(4, \"agm-marker\", 1)(5, \"agm-info-window\", 2);\n          i0.ɵɵtext(6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(7, \"agm-marker\", 3);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate(ctx.title);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"latitude\", ctx.lat)(\"longitude\", ctx.lng);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"latitude\", 47.36991229592861)(\"longitude\", 8.522110574370004);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disableAutoPan\", true);\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate2(\" \", 47.36991229592861, \", \", 8.522110574370004, \" \");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"latitude\", 47.36991229592861)(\"longitude\", 8.522110574370004)(\"label\", \"M\");\n        }\n      },\n      dependencies: [i2.AgmInfoWindow, i2.AgmMap, i2.AgmMarker],\n      styles: [\"#map[_ngcontent-%COMP%]{height:500px;width:100%;border:1px solid #ccc;border-radius:8px;box-shadow:0 0 10px #0000001a}\"]\n    });\n  }\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}